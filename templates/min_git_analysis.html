{% load static custom_tags %}
{% block content %}
<script type="text/javascript" src="{% static 'js/profile_calendar.js' %}"></script>
<div style="margin:0 auto;">
  <div class="flex">
    <div class="mb-8" style="flex-grow: 3">
      <div class="flex">
          <img src="{{github_user.avatar_url}}" class="profile mr-6 profile-image">
        <div class="flex flex-col my-auto">
          {% if github_user.name  %}
            <span class="font-bold my-auto" style="font-size: 24px;" id="user_name">{{ github_user.name }}</span>
          {% endif %}
          <span class="text-gray-500 my-auto" style="font-size: 20px;" id="user_github_id">{{ github_user.github_id }}</span>
          {% if github_user.bio %}
            <span class="mt-3" style="font-size: 16px;" id="user_bio">{{ github_user.bio }}</span>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  <div class="w-full mb-8 md:w-full scroll" style="max-width:1100px">
    <div style="display:flex; justify-content: space-between;">
      <span class="font-bold mb-2" style="font-size:20px; font-family: 'Noto Sans KR';float: left">Tech Stack<g class="ml-3" style="font-weight: normal;">in the last year</g></span>
      <div style="display: flex;">
        <img class="pointer" style="width:20px; height: 20px; margin-right: 15px;" src="{% static 'img/share.png' %}" alt="share" onclick="copy_svg_url('{{github_user.github_id}}')">
        <img id="update_btn" onclick="update_analysis('{{github_user.github_id}}')" src="{% static 'img/update.png' %}" alt="update" style="width:20px; height: 20px;">
      </div>
    </div>
    <div class="flex-1 md:w-full w-full h-full overflow-hidden bg-white rounded-lg shadow-xs p-6">
      <div class="flex w-full mb-3 scroll-x">
        {% for tech_data in tech_card_data %}
          <div>
            <table style="min-height: 100px;width: 126px;">
              <tbody class="tech">
              <tr>
                <td class="w-full">
                  <div class="w-full inline-block">
                    <div class="tech_color mt-2 mr-2" style="background-color: {{ tech_data.color }}; float: right; display: block;"></div>
                  </div>
                  <img src="{% get_static_prefix %}img/{{ tech_data.file | replace_special_char }}.png" class="mx-auto mb-2"/>
                  <div class="mb-2 px-2" style="text-align: center; display: flex; flex-direction: column;">
                    {{ tech_data.name }}
                    <span class="px-2 py-1 font-semibold leading-tight text-green-700 bg-green-100 rounded-full" style="font-size: .75rem; text-align: center; margin: 0 auto; margin-top: 8px;">
                      {{ tech_data.percent }}%
                    </span>
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        {% endfor %}
      </div>
      <!--Git grass(start)-->
      <div class="git-table shadow-xs" style="max-width:1010px;max-height:170px"></div>
      <!--Git grass(end)-->
    </div>
  </div>
</div>
{% endblock content %}
